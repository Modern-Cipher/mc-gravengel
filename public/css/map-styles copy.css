/* css/map-styles.css */
:root {
    --shadow: 0 10px 30px rgba(0,0,0,0.08);
}
.stage {
    padding: 20px;
    background-color: #f4f4f5;
}

.img-wrap {
    position: relative;
    width: 100%;
    max-width: 1280px;
    margin-inline: auto;
}

#map-img {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: var(--shadow);
}

.hotspots {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    border-radius: 12px;
}

.hotspot {
    position: absolute;
    border-radius: 6px;
    border: 2px solid rgba(122, 31, 34, 0.7);
    background: rgba(122, 31, 34, 0.2);
    transition: background-color 0.2s ease, border-color 0.2s ease;
    cursor: pointer;
    pointer-events: auto;
}

.hotspots.hidden .hotspot {
    background: transparent !important;
    border-color: transparent !important;
}
.hotspots.hidden .hotspot:hover {
    background: transparent;
    border-color: transparent;
}

.hotspot.active {
    background: rgba(122, 31, 34, 0.4) !important;
    border-color: rgba(122, 31, 34, 0.9) !important;
    box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
}

.kebab { position: absolute; right: 12px; top: 12px; z-index: 20; width: 40px; height: 40px; background: rgba(255, 255, 255, 0.9); border: 1px solid #e5e7eb; border-radius: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 3px; cursor: pointer; backdrop-filter: blur(4px); }
.kebab span { width: 4px; height: 4px; background: #555; border-radius: 50%; }
.menu { position: absolute; right: 12px; top: 60px; z-index: 20; width: 280px; background: rgba(255, 255, 255, 0.95); border: 1px solid #e5e7eb; border-radius: 14px; box-shadow: var(--shadow); padding: 12px 16px; backdrop-filter: blur(8px); }
.menu-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.menu-label { font-weight: 600; font-size: 14px; color: #374151; }
.icon-btn.close { background: transparent; border: none; font-size: 18px; cursor: pointer; }
.menu-row { display: grid; grid-template-columns: 1fr auto; align-items: center; padding: 8px 0; gap: 10px;}
.ctrl-group { display: flex; align-items: center; justify-content: flex-end; gap: 8px; }
.ctrl-btn { width: 32px; height: 32px; border: 1px solid #d1d5db; background: #fff; border-radius: 8px; font-size: 18px; cursor: pointer; }
.ctrl-btn:hover { background-color: #f9fafb; }
.ctrl-group output { font-weight: 500; text-align: center; min-width: 3ch; }
.slider-group input[type="range"] { width: 100%; }
.menu-row { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
.btn-reset, .btn-save { width: 100%; border: 1px solid; padding: 8px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 8px; }
.btn-reset { border-color: #fca5a5; background: #fee2e2; color: #b91c1c; }
.btn-reset:hover { background: #fecaca; }
.btn-save { border-color: #6ee7b7; background: #d1fae5; color: #065f46; }
.btn-save:hover { background: #a7f3d0; }


.map-tooltip { position: absolute; background: #333; color: #fff; padding: 5px 10px; border-radius: 4px; font-size: 12px; pointer-events: none; z-index: 99; transform: translateY(-100%); white-space: nowrap; }

.pin { position:absolute; z-index:25; pointer-events:none; transform:translate(-50%, -110%); display:flex; flex-direction:column; align-items:center; animation:pin-bob 1.5s ease-in-out infinite; }
@keyframes pin-bob { 0%,100% { transform:translate(-50%,-110%) translateY(0) } 50% { transform:translate(-50%,-110%) translateY(-8px) } }
.pin .pin-bubble { background:#7a1f22; color:#fff; border-radius:8px; padding:8px 12px; font-weight:700; font-size:14px; box-shadow:0 10px 30px rgba(0,0,0,.15); white-space:nowrap; }
.pin .pin-arrow { width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:12px solid #7a1f22; margin:0 auto; }

/* --- PLOT GRID (NILAKIHAN AT INAYOS) --- */
.plot-grid { 
    display: grid; 
    gap: 10px;
    /* Susundin na nito ang --cols galing sa database */
    grid-template-columns: repeat(var(--cols, 8), 1fr);
}
.plot-cell { 
    aspect-ratio: 1/1; 
    border: 1px solid #dee2e6; 
    border-radius: 8px; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    padding: 4px; 
    text-align: center; 
    transition: all 0.2s ease; 
}
.plot-cell:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.plot-number { font-weight: bold; font-size: 1.2rem; }
.plot-name { font-size: 10px; line-height: 1.2; word-break: break-word; }

.plot-cell.vacant { background-color: #e8f5e9; color: #388e3c; }
.plot-cell.occupied { background-color: #ffebee; color: #c62828; }
.plot-cell.reserved { background-color: #fffde7; color: #f9a825; }
.plot-cell.bone { background-color: #e3f2fd; color: #1565c0; }

.pagination-controls { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid #dee2e6; }
.page-info { font-size: 14px; font-weight: 500; }

/* --- BAGONG STYLES PARA SA FLOATING MODAL --- */
.floating-modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0,0,0,0.3);
    z-index: 1050;
    opacity: 0;
    pointer-events: none;
    transition: opacity .15s linear;
}
.floating-modal-backdrop.show {
    opacity: 1;
    pointer-events: auto;
}
.floating-modal-dialog {
    position: absolute;
    background: white;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,.5);
    width: clamp(320px, 90vw, 700px); /* Pinaliit ng konti para mas magkasya */
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    opacity: 0;
    transform: scale(0.95);
    transition: opacity .15s linear, transform .15s linear;
}
.floating-modal-backdrop.show .floating-modal-dialog {
    opacity: 1;
    transform: scale(1);
}
.floating-modal-header, .floating-modal-body {
    padding: 1rem;
}
.floating-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #dee2e6;
}
.floating-modal-body {
    overflow-y: auto;
}